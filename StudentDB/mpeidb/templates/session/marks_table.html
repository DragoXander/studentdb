{% load static %}
<table class="table table-sm table-hover table-bordered page-element session-table" style="font-size: 11pt;">
    <thead class="table">
        <tr>
<!--            <th class="align-middle" style="width:70px;">Семестр</th>-->
            <th class="align-middle" style="width:300px;padding-left:10px;">Дисциплина</th>
<!--            <th class="align-middle" style="width:130px;">Форма контроля</th>-->
            <th class="align-middle" style="width:230px;">Оценка</th>
            <th class="align-middle" style="width:110px;">Дата оценки</th>
            <th class="align-middle">Пересдача (да/нет)</th>
            <th class="align-middle">Экзаменатор</th>
            <th class="align-middle">Преподаватели (семинары/лабы)</th>
            <th class="align-middle">Главный преподаватель (лектор)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="table-active text-center" colspan="7">Зачёты</td>
        </tr>
        {% for s in zach %}
        <tr>
            <td style="padding-left:10px;">{{s.name}} <b>[{{s.control}}]</b></td>
            {% if s.midcert_mark >= 0 %}

                {% if s.retake < 0 %}
                <td style=""><strong>{{s.mark}}</strong></td>
                {% else %}
                <td style=""><strong>{{s.ret_mark}}</strong></td>
                {% endif %}

            {% else %}
            <td></td>
            {% endif %}

            <td>{{s.date}}</td>

            {% if s.retake > 0 %}
                {% if s.ret_number < 3 and s.ret_number > 0 %}
                    <td style=""><b>ППА-{{s.ret_number}}</b></td>
                {% elif s.ret_number == 3 %}
                    <td style="color:red;"><b>КС</b></td>
                {% endif %}
            {% else %}
            <td>нет</td>
            {% endif %}

            <td>{{s.examiner}}</td>
            <td>{{s.p_teacher}}</td>
            <td>{{s.l_teacher}}</td>
        </tr>
        {% endfor %}
        <tr>
            <td class="table-active text-center" colspan="7">Экзамены + Защиты КР/КП</td>
        </tr>
        {% for s in exams %}
        <tr>
            <td style="padding-left:10px;">{{s.name}} <b>[{{s.control}}]</b></td>
            {% if s.midcert_mark >= 0 %}

                {% if s.retake < 0 %}
                <td style=""><strong>{{s.mark}}</strong></td>
                {% else %}
                <td style=""><strong>{{s.ret_mark}}</strong></td>
                {% endif %}

            {% else %}
            <td></td>
            {% endif %}

            <td>{{s.date}}</td>

            {% if s.retake > 0 %}
                {% if s.ret_number < 3 and s.ret_number > 0 %}
                    <td style=""><b>ППА-{{s.ret_number}}</b></td>
                {% elif s.ret_number == 3 %}
                    <td style="color:red;"><b>КС</b></td>
                {% endif %}
            {% else %}
            <td>нет</td>
            {% endif %}

            <td>{{s.examiner}}</td>
            <td>{{s.p_teacher}}</td>
            <td>{{s.l_teacher}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div class="page-element"><span style="color:blue;"><strong>
    <p>
        Пересдачи:<br>
        ППА-1 - Повторная промежуточная аттестация №1<br>
        ППА-2 - Повторная промежуточная аттестация №2<br>
        КС - Повторная промежуточная аттестация №3 (Красная сессия)
    </p>
</strong></span></div>